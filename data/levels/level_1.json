{
    "metadata": {
        "id": "level_1",
        "name": "Las Estatuas",
        "description": "Descripción para debug o pantalla de carga",
        "next_level_id": "level_2"
    },

    "assets": {
        "textures": {
            "tex_floor": "assets/level_1/floor.jpg",
            "tex_wall_w": "assets/level_1/wall_01.png",
            "tex_wall_h": "assets/level_1/wall_02.png",
            "tex_siervo": "assets/level_1/statues/el_siervo.png",
            "tex_camaleon": "assets/level_1/statues/el_siervo.png",
            "tex_caudillo": "assets/level_1/statues/el_siervo.png",
            "tex_statue_siervo": "assets/level_1/statues/el_siervo.png",
            "tex_statue_camaleon": "assets/level_1/statues/el_camaleon.png",
            "tex_statue_caudillo": "assets/level_1/statues/el_caudillo.png"
        },
        "sounds": {
            "bg_music": "assets/sounds/ambience_scary.ogg",
            "sfx_solve": "assets/sounds/puzzle_solved.wav"
        }
    },

    "player_spawn": {
        "position": [-25.0, 0.0, 15.0],
        "rotation_y": 180.0
    },

    "lighting": {
        "ambient_color": [0.25, 0.25, 0.25, 1.0],
        "lights": [
            {
                "id": "light_01",
                "type": "point", 
                "position": [-20.0, 15.0, 0.0, 1.0],
                "diffuse": [0.7, 0.7, 0.7, 1.0],
                "specular": [0.3, 0.3, 0.3, 1.0],
                "attenuation": [1.0, 0.05, 0.01] 
            },
            {
                "id": "light_02",
                "type": "point", 
                "position": [15.0, 15.0, 0.0, 1.0],
                "diffuse": [1.0, 1.0, 1.0, 1.0],
                "specular": [0.3, 0.3, 0.3, 1.0],
                "attenuation": [1.0, 0.01, 0.001] 
            }
        ]
    },

    "cameras": [
        {
            "id": "cam_1",
            "position": [10.0, 18.0, 20.0],
            "look_at": [-20.0, 5.0, -5.0]
        },
        {
            "id": "cam_2",
            "position": [0.0, 18.0, 20.0],
            "look_at": [25.0, 5.0, 0.0]
        }
    ],

    "triggers": [
        {
            "type": "camera_change",
            "box_min": [-35.0, 0.0, -20.0],
            "box_max": [0.0, 1.0, 20.0],
            "target_camera_id": "cam_1"
        },
        {
            "type": "camera_change",
            "box_min": [0.0, 0.0, -20.0],
            "box_max": [35.0, 1.0, 20.0],
            "target_camera_id": "cam_2"
        }
    ],

    "layout": {
        "floor": {
            "size": [70.0, 40.0],
            "texture_id": "tex_floor",
            "tiling": [4.0, 4.0]
        },
        "walls": [
            { "pos": [-35.0, 10.0, 0.0], "size": [0.5, 20.0, 40.0], "texture_id": "tex_wall_w" },
            { "pos": [0.0, 10.0, -20.0], "size": [70.0, 20.0, 0.5], "texture_id": "tex_wall_w" },
            { "pos": [35.0, 10.0, 0.0],  "size": [0.5, 20.0, 40.0], "texture_id": "tex_wall_w" },
            { "pos": [0.0, 10.0, 20.0],  "size": [70.0, 20.0, 0.5], "texture_id": "tex_wall_w" }
        ],
        "decorations": [
             { "pos": [-8, 0, -8], "model_id": "mdl_pedestal", "scale": [1,1,1], "rot": [0,0,0] }
        ]
    },

    "puzzle_config": {
        "type": "StatuePuzzle",
        "assets_ref": {
            "success_sound": "sfx_solve"
        },
        "properties": {
            "validate_on_exit": true, 
            "solution_order": [2, 1, 3], 
            "door_config": {
                "position": [-34.5, 5.0, 5.0],
                "size": [1.0, 10.0, 4.0],
                "rotation": [0, 0, 0, 1],
                "texture_asset": "tex_wall_h",
                "is_locked": true
            },
            "statues": [
                { 
                    "id": 1,
                    "position": [32.0, 8.0, 10.0],
                    "size": [3.0, 10.0, 3.0],
                    "rotation": [90, 0, 1, 0],
                    "initial_slot": 0,
                    "name": "El Siervo",
                    "asset": "tex_statue_siervo"
                },
                { 
                    "id": 2,
                    "position": [32.0, 8.0, 0.0],
                    "size": [3.0, 10.0, 3.0],
                    "rotation": [90, 0, 1, 0],
                    "initial_slot": 1,
                    "name": "El Camaleón",
                    "asset": "tex_statue_camaleon"
                },
                { 
                    "id": 3,
                    "position": [32.0, 8.0, -10.0],
                    "size": [3.0, 10.0, 3.0],
                    "rotation": [90, 0, 1, 0],
                    "initial_slot": 2,
                    "name": "El Caudillo",
                    "asset": "tex_statue_caudillo"
                }
            ],
            "pedestals": [
                { 
                    "correct_statue_id": 3,
                    "position": [32.0, 1.5, 10.0],
                    "size": [3.0, 3.0, 3.0],
                    "statue_offset": 6.5,
                    "phrase": [
                        "Aquí se alza el grito del sur. No buscaba poder,",
                        "sino justicia para el campo.",
                        "Su lema fue 'Tierra y Libertad'"
                    ],
                    "asset": "tex_floor"
                },
                { 
                    "correct_statue_id": 1,
                    "position": [32.0, 1.5, 0.0],
                    "size": [3.0, 3.0, 3.0],
                    "statue_offset": 6.5,
                    "phrase": [
                        "Aquí se alza quien rechazó títulos de nobleza para ser llamado 'Siervo'.",
                        "Su pluma escribió los Sentimientos de la Nación"
                    ],
                    "asset": "tex_floor"
                },
                { 
                    "correct_statue_id": 2,
                    "position": [32.0, 1.5, -10.0],
                    "size": [3.0, 3.0, 3.0],
                    "statue_offset": 6.5,
                    "phrase": [
                        "Aquí se alza la ambición que costó la mitad de un país.",
                        "Once veces ocupó la silla presidencial, y en su sombra,",
                        "el territorio se desvaneció."
                    ],
                    "asset": "tex_floor"
                }
            ]
        },
        "intro_dialog": [
            [
                "(Voz saliendo desde una bocina)...",
                "¿Ya despertaste? Bien.",
                "Te preguntarás por qué estás aquí. Olvidaste tu origen, y sin historia, no hay futuro."
            ],
            [
                "Observa. Héroes de la nación, perdidos y fuera de lugar, igual que tú.",
                "Para salir, debes arreglar este desastre."
            ],
            [
                "Las placas en los pedestales revelan la verdad que ignoras.",
                "Acércate a una estatua, elegirla (E) y ve a otra para intercambiarlas."
            ],
            [
                "Ordena la historia y la puerta se abrirá. Si fallas, serás parte del olvido...",
                "Empieza."
            ]
        ]
    }
}